import{u as p,r as i,c as v,a as s,w as r,v as d,n as c,t as _,b as f,d as b,e as h,o as w,f as x,R as g}from"./index-CddkSmwH.js";import{a as k}from"./axios-C8DqakIB.js";const y={class:"loginView"},V={class:"row d-flex"},E={class:"col-md-8 mx-auto"},B=s("h2",{class:"text-center fs-5 fs-md-4 mb-c4-1 mb-md-4"},"最實用的線上代辦事項服務",-1),L={class:"pe-2 pe-md-0 mb-c4-3 mb-md-c3-1"},P=s("label",{for:"userEmail",class:"form-label"},"Email",-1),R=s("div",{class:"invalid-feedback"},"此欄位不可為空",-1),C={class:"pe-2 pe-md-0 mb-4"},D=s("label",{for:"userPwd",class:"form-label"},"Password",-1),N={class:"invalid-feedback"},T={class:"d-flex justify-content-center"},j="https://todolist-api.hexschool.io",A={__name:"LoginView",setup(U){const u=p(),e=i({email:"",password:""}),n=i(""),a=i(""),m=async()=>{try{const o=await k.post(`${j}/users/sign_in`,e.value);console.log(o),document.cookie=`userToken=${o.data.token}; `,a.value=!0,u.push("/todoList")}catch(o){console.log(o),n.value=o.response.data.message,e.value.password="",a.value=!1}};return(o,t)=>(w(),v("div",y,[s("div",V,[s("div",E,[B,s("div",L,[P,r(s("input",{type:"email",class:c(["form-control",{"is-invalid":!e.value.email}]),id:"userEmail",placeholder:"請輸入Email","onUpdate:modelValue":t[0]||(t[0]=l=>e.value.email=l)},null,2),[[d,e.value.email]]),R]),s("div",C,[D,r(s("input",{type:"password",class:c(["form-control",{"is-invalid":!a.value}]),id:"userPwd",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=l=>e.value.password=l)},null,2),[[d,e.value.password]]),s("div",N,_(n.value),1)]),s("div",{class:"d-flex justify-content-center mb-4"},[s("button",{type:"button",class:"btn btn-dark rectangleBtn",onClick:m},"登入")]),s("div",T,[f(h(g),{to:"/register",class:"router-link btn border-0"},{default:b(()=>[x(" 註冊帳號 ")]),_:1})])])])]))}};export{A as default};
