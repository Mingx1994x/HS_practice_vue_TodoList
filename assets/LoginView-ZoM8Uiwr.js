import{_ as v,u as f,r as d,c as h,a as s,w as r,v as u,n as p,t as b,b as w,d as g,e as x,o as k,f as y,R as V,p as E,g as I}from"./index-Cu7E_BeX.js";import{a as L}from"./axios-C8DqakIB.js";const l=a=>(E("data-v-e907f317"),a=a(),I(),a),B={class:"loginView"},P={class:"row d-flex"},R={class:"col-md-8 mx-auto"},S=l(()=>s("h2",{class:"text-center fs-5 fs-md-4 mb-c4-1 mb-md-4"},"最實用的線上代辦事項服務",-1)),C={class:"pe-2 pe-md-0 mb-c3-1"},D=l(()=>s("label",{for:"userEmail",class:"form-label"},"Email",-1)),N=l(()=>s("div",{class:"invalid-feedback"},"此欄位不可為空",-1)),T={class:"pe-2 pe-md-0 mb-4"},j=l(()=>s("label",{for:"userPwd",class:"form-label"},"Password",-1)),U={class:"invalid-feedback"},$={class:"d-flex justify-content-center"},z="https://todolist-api.hexschool.io",A={__name:"LoginView",setup(a){const m=f(),e=d({email:"",password:""}),c=d(""),i=d(""),_=async()=>{try{const o=await L.post(`${z}/users/sign_in`,e.value);console.log(o),document.cookie=`userToken=${o.data.token}; `,i.value=!0,e.value={email:"",password:""},m.push("/todoList")}catch(o){console.log(o),c.value=o.response.data.message,e.value.password="",i.value=!1}};return(o,t)=>(k(),h("div",B,[s("div",P,[s("div",R,[S,s("div",C,[D,r(s("input",{type:"email",class:p(["form-control",{"is-invalid":!e.value.email}]),id:"userEmail",placeholder:"請輸入Email","onUpdate:modelValue":t[0]||(t[0]=n=>e.value.email=n)},null,2),[[u,e.value.email]]),N]),s("div",T,[j,r(s("input",{type:"password",class:p(["form-control",{"is-invalid":!i.value}]),id:"userPwd",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=n=>e.value.password=n)},null,2),[[u,e.value.password]]),s("div",U,b(c.value),1)]),s("div",{class:"d-flex justify-content-center mb-4"},[s("button",{type:"button",class:"btn btn-dark rectangleBtn",onClick:_},"登入")]),s("div",$,[w(x(V),{to:"/register",class:"btn border-0"},{default:g(()=>[y(" 註冊帳號 ")]),_:1})])])])]))}},q=v(A,[["__scopeId","data-v-e907f317"]]);export{q as default};
