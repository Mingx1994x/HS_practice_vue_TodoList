import{u as _,r as n,h as f,i as h,c as b,a as e,w as a,v as r,j as w,b as x,d as k,o as y,f as g}from"./index-Cu7E_BeX.js";import{a as V}from"./axios-C8DqakIB.js";const P={class:"row d-flex"},E={class:"col-md-8 mx-auto"},N={class:"px-c3-1 px-md-0 py-0 py-md-c6"},R=e("h2",{class:"text-center text-md-start fs-4 mb-4"},"註冊帳號",-1),B={class:"mb-3"},U=e("label",{for:"userEmail",class:"form-label"},"Email",-1),j={class:"mb-3"},C=e("label",{for:"userNickname",class:"form-label"},"您的暱稱",-1),D={class:"mb-3"},L=e("label",{for:"userPwd",class:"form-label"},"密碼",-1),S={class:"mb-c2-1 mb-md-4"},T=e("label",{for:"checkPwd",class:"form-label"},"再次輸入密碼",-1),$={class:"text-danger"},A={class:"d-flex justify-content-center"},H="https://todolist-api.hexschool.io",z={__name:"RegisterView",setup(I){const i=_(),s=n({email:"",password:"",nickname:""}),l=n(""),d=f(()=>l.value===s.value.password),u=n(!1),m=n(""),p=async()=>{try{if(!s.value.email||!s.value.password||!s.value.nickname){alert("還有欄位未填喔");return}else if(l.value!==s.value.password){alert("密碼欄位不一致喔");return}await V.post(`${H}/users/sign_up`,s.value),alert(`${s.value.nickname}，恭喜完成註冊嘍！！！
可以直接登入使用服務嘍`),i.push("/")}catch(c){console.log(c),m.value.signup=c.response.data.message,u.value=!0}};return(c,t)=>{const v=h("RouterLink");return y(),b("div",P,[e("div",E,[e("div",N,[R,e("div",B,[U,a(e("input",{type:"email",class:"form-control",id:"userEmail",placeholder:"請輸入Email","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.email=o)},null,512),[[r,s.value.email]])]),e("div",j,[C,a(e("input",{type:"text",class:"form-control",id:"userNickname",placeholder:"請輸入您的暱稱","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.nickname=o)},null,512),[[r,s.value.nickname]])]),e("div",D,[L,a(e("input",{type:"password",class:"form-control",id:"userPwd",placeholder:"請輸入密碼","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.password=o)},null,512),[[r,s.value.password]])]),e("div",S,[T,a(e("input",{type:"password",class:"form-control",id:"checkPwd",placeholder:"請再次輸入密碼","onUpdate:modelValue":t[3]||(t[3]=o=>l.value=o)},null,512),[[r,l.value]]),a(e("div",$,"密碼不一致",512),[[w,!d.value]])]),e("div",{class:"d-flex justify-content-center"},[e("button",{type:"button",class:"btn btn-dark rectangleBtn mb-4",onClick:p}," 註冊帳號 ")]),e("div",A,[x(v,{to:"/",class:"btn border-0"},{default:k(()=>[g(" 登入 ")]),_:1})])])])])}}};export{z as default};
